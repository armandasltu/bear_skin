// Generates classes based on c-palette map keys.
// First level keys, e.g. 'bg', are prefixes for generated class names.
// Second level keys, e.g. 'light', are suffixes for generated class names.
//
// Classes will only be generated for each color if the corresponding key is
// found. For example, if my first c-palette color only has values for "color"
// and "dark", no "light" class will be generated.
//
// See ../00-utilities/_variables.scss
//

$c-config: (
  bg: (                   // Generate background-color classes.
    base: false,          // e.g. .bg-f3f3f3
    light: false,         // e.g. .bg-f3f3f3-light
    dark: false           // e.g. .bg-f3f3f3-dark
  ),
  c: (                    // Generate font color classes.
    base: false,          // e.g. .c-f3f3f3
    light: false,         // e.g. .c-f3f3f3-light
    dark: false           // e.g. .c-f3f3f3-dark
  ),
);

// Loop over colors in $c-palette.
@each $key, $value in $c-palette {
  // Loop through option groups in $c-config.
  @each $c-key, $c-value in $c-config {
    // Loop over options and create classes if they are enabled.
    @each $option, $toggle in $c-value {
      @if $toggle {
        // Strip # from hex codes for use in class names.
        $color: map-get($value, 'base');
        $clean-color: str-replace(#{$color}, '#', '');

        @if $option == 'base' {
          .#{$c-key}-#{$clean-color} {
            background-color: $color;
          }
        }
        @else {
          @if map-has-key($value, $option) {
            $color: map-get($value, $option);

            .#{$c-key}-#{$clean-color}-#{$option} {
              background-color: $color;
            }
          }
        }
      }
    }
  }
}



// // Generates classes based on c-palette map color values.
// $c-config: (
//   bg: (
//     original: false,     // e.g. .bg-f3f3f3
//     light: false,        // e.g. .bg-f3f3f3-light
//     dark: false          // e.g. .bg-f3f3f3-dark
//   ),
//   color: (
//     original: false,      // e.g. .c-f3f3f3
//     light: false,         // e.g. .c-f3f3f3-light
//     dark: false           // e.g. .c-f3f3f3-dark
//   ),
// );
//
// @each $key, $value in $c-palette {
//   $color: map-get($value, color);
//   $color-light: map-get($value, light);
//   $color-dark: map-get($value, dark);
//
//   // Strip # from hex codes for use in class names.
//   $clean-color: str-replace(#{$color}, '#', '');
//
//   // Background classes
//   @if map-deep-get($c-config, 'bg', 'original') {
//     .bg-#{$clean-color} {
//       background-color: $color;
//     }
//   }
//
//   @if map-deep-get($c-config, 'bg', 'light') {
//     .bg-#{$clean-color}-light {
//       background-color: $color-light;
//     }
//   }
//
//   @if map-deep-get($c-config, 'bg', 'dark') {
//     .bg-#{$clean-color}-dark {
//       background-color: $color-dark;
//     }
//   }
//
//   // Color classes
//   @if map-deep-get($c-config, 'color', 'original') {
//     .c-#{$clean-color} {
//       color: $color;
//     }
//   }
//
//   @if map-deep-get($c-config, 'color', 'light') {
//     .c-#{$clean-color}-light {
//       color: $color-light;
//     }
//   }
//
//   @if map-deep-get($c-config, 'color', 'dark') {
//     .c-#{$clean-color}-dark {
//       color: $color-dark;
//     }
//   }
// }
