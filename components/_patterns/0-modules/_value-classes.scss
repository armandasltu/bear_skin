// Generates classes based on map values.
//
// Classes will only be generated for each color if the corresponding variant is
// found. For example, if my first c-palette color only has values for "base"
// and "dark", no "light" class will be generated.
//
// See ../00-utilities/_variables.scss
//

@mixin generate-value-classes($map, $config, $prefix, $property) {
  @each $key, $value in $map {
    @each $variant in $config {
      // Strip any # from hex codes for use in class names.
      $base-value: map-get($value, 'base');
      $clean-value: str-replace(#{$base-value}, '#', '');

      $prop-value: map-get($value, $variant);

      @if $variant == 'base' {
        .#{$prefix}-#{$clean-value} {
          #{$property}: $prop-value;
        }
      }
      @else {
        @if map-has-key($value, $variant) {
          .#{$prefix}-#{$clean-value}--#{$variant} {
            #{$property}: $prop-value;
          }
        }
      }
    }
  }
}

$config: (
  'base',
  'dark',
  'light'
);

@include generate-value-classes($c-palette, $config, bg, background-color);
